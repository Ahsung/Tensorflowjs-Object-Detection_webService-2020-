{"id":"Focm","dependencies":[{"name":"/home/asung/nodejsProject/cocojs/tfjs-models/coco-ssd/demo/.babelrc","includedInParent":true,"mtime":1579585984699},{"name":"/home/asung/nodejsProject/cocojs/tfjs-models/coco-ssd/demo/package.json","includedInParent":true,"mtime":1579756861802},{"name":"@tensorflow-models/coco-ssd","loc":{"line":22,"column":25},"parent":"/home/asung/nodejsProject/cocojs/tfjs-models/coco-ssd/demo/index.js","resolved":"/home/asung/nodejsProject/cocojs/tfjs-models/coco-ssd/demo/node_modules/@tensorflow-models/coco-ssd/dist/coco-ssd.esm.js"},{"name":"./image1.jpg","loc":{"line":24,"column":21},"parent":"/home/asung/nodejsProject/cocojs/tfjs-models/coco-ssd/demo/index.js","resolved":"/home/asung/nodejsProject/cocojs/tfjs-models/coco-ssd/demo/image1.jpg"},{"name":"./image2.jpg","loc":{"line":25,"column":22},"parent":"/home/asung/nodejsProject/cocojs/tfjs-models/coco-ssd/demo/index.js","resolved":"/home/asung/nodejsProject/cocojs/tfjs-models/coco-ssd/demo/image2.jpg"}],"generated":{"js":"\"use strict\";var e=l(require(\"@tensorflow-models/coco-ssd\")),t=o(require(\"./image1.jpg\")),n=o(require(\"./image2.jpg\"));function o(e){return e&&e.__esModule?e:{default:e}}function r(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var c=o?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(n,l,c):n[l]=e[l]}return n.default=e,t&&t.set(e,n),n}let c,a=\"lite_mobilenet_v2\";window.onload=(()=>c=e.load());const i=document.getElementById(\"toggle\");i.onclick=(()=>{d.src=d.src.endsWith(t.default)?n.default:t.default});const s=document.getElementById(\"base_model\");s.onchange=(async t=>{(await c).dispose(),c=e.load({base:t.srcElement.options[t.srcElement.selectedIndex].value})});const d=document.getElementById(\"image\");d.src=t.default;const u=document.getElementById(\"run\");u.onclick=(async()=>{const e=await c;console.log(\"model loaded\"),console.time(\"predict1\");const t=await e.detect(d);console.timeEnd(\"predict1\");const n=document.getElementById(\"canvas\").getContext(\"2d\");n.drawImage(d,0,0),n.font=\"10px Arial\",console.log(\"number of detections: \",t.length);for(let o=0;o<t.length;o++)n.beginPath(),n.rect(...t[o].bbox),n.lineWidth=1,n.strokeStyle=\"green\",n.fillStyle=\"green\",n.stroke(),n.fillText(t[o].score.toFixed(3)+\" \"+t[o].class,t[o].bbox[0],t[o].bbox[1]>10?t[o].bbox[1]-5:10)});"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":22,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":22,"column":0},"generated":{"line":1,"column":17}},{"source":"index.js","original":{"line":22,"column":0},"generated":{"line":1,"column":19}},{"source":"index.js","original":{"line":22,"column":0},"generated":{"line":1,"column":21}},{"source":"index.js","original":{"line":22,"column":0},"generated":{"line":1,"column":29}},{"source":"index.js","original":{"line":24,"column":0},"generated":{"line":1,"column":61}},{"source":"index.js","original":{"line":24,"column":0},"generated":{"line":1,"column":63}},{"source":"index.js","original":{"line":24,"column":0},"generated":{"line":1,"column":65}},{"source":"index.js","original":{"line":24,"column":0},"generated":{"line":1,"column":73}},{"source":"index.js","original":{"line":25,"column":0},"generated":{"line":1,"column":90}},{"source":"index.js","original":{"line":25,"column":0},"generated":{"line":1,"column":92}},{"source":"index.js","original":{"line":25,"column":0},"generated":{"line":1,"column":94}},{"source":"index.js","original":{"line":25,"column":0},"generated":{"line":1,"column":102}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":119}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":128}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":130}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":133}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":140}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":143}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":145}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":156}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":158}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":159}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":167}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":170}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":179}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":183}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":186}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":205}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":213}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":220}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":225}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":229}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":231}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":235}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":243}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":250}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":252}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":263}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":270}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":273}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":275}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":284}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":286}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":289}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":292}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":295}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":297}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":308}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":315}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":317}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":320}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":327}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":330}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":347}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":350}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":369}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":371}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":377}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":378}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":386}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":389}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":393}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":395}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":399}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":402}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":405}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":407}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":411}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":414}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":421}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":423}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":427}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":430}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":434}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":436}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":439}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":441}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":448}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":464}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":471}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":496}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":500}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":504}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":509}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":511}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":514}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":521}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":531}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":546}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":551}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":553}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":556}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":557}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":561}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":563}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":565}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":572}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":597}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":599}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":602}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":607}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":611}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":613}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":618}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":620}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":625}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":632}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":647}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":649}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":651}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":654}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":656}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":659}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":661}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":664}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":671}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":673}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":681}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":683}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":686}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":688}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":692}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":694}},{"source":"index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":697}},{"source":"index.js","original":{"line":27,"column":0},"generated":{"line":1,"column":699}},{"source":"index.js","name":"modelPromise","original":{"line":27,"column":4},"generated":{"line":1,"column":703}},{"source":"index.js","name":"baseModel","original":{"line":28,"column":4},"generated":{"line":1,"column":705}},{"source":"index.js","original":{"line":28,"column":16},"generated":{"line":1,"column":707}},{"source":"index.js","name":"window","original":{"line":30,"column":0},"generated":{"line":1,"column":727}},{"source":"index.js","name":"onload","original":{"line":30,"column":7},"generated":{"line":1,"column":734}},{"source":"index.js","original":{"line":30,"column":16},"generated":{"line":1,"column":741}},{"source":"index.js","name":"modelPromise","original":{"line":30,"column":23},"generated":{"line":1,"column":746}},{"source":"index.js","name":"cocoSsd","original":{"line":30,"column":38},"generated":{"line":1,"column":748}},{"source":"index.js","name":"load","original":{"line":30,"column":46},"generated":{"line":1,"column":750}},{"source":"index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":758}},{"source":"index.js","name":"button","original":{"line":32,"column":6},"generated":{"line":1,"column":764}},{"source":"index.js","name":"document","original":{"line":32,"column":15},"generated":{"line":1,"column":766}},{"source":"index.js","name":"getElementById","original":{"line":32,"column":24},"generated":{"line":1,"column":775}},{"source":"index.js","original":{"line":32,"column":39},"generated":{"line":1,"column":790}},{"source":"index.js","name":"button","original":{"line":33,"column":0},"generated":{"line":1,"column":800}},{"source":"index.js","name":"onclick","original":{"line":33,"column":7},"generated":{"line":1,"column":802}},{"source":"index.js","original":{"line":33,"column":17},"generated":{"line":1,"column":810}},{"source":"index.js","name":"image","original":{"line":34,"column":2},"generated":{"line":1,"column":816}},{"source":"index.js","name":"src","original":{"line":34,"column":8},"generated":{"line":1,"column":818}},{"source":"index.js","name":"image","original":{"line":34,"column":14},"generated":{"line":1,"column":822}},{"source":"index.js","name":"src","original":{"line":34,"column":20},"generated":{"line":1,"column":824}},{"source":"index.js","name":"endsWith","original":{"line":34,"column":24},"generated":{"line":1,"column":828}},{"source":"index.js","name":"imageURL","original":{"line":34,"column":33},"generated":{"line":1,"column":837}},{"source":"index.js","original":{"line":34,"column":14},"generated":{"line":1,"column":839}},{"source":"index.js","name":"image2URL","original":{"line":34,"column":45},"generated":{"line":1,"column":848}},{"source":"index.js","original":{"line":34,"column":14},"generated":{"line":1,"column":850}},{"source":"index.js","name":"imageURL","original":{"line":34,"column":57},"generated":{"line":1,"column":858}},{"source":"index.js","original":{"line":34,"column":2},"generated":{"line":1,"column":860}},{"source":"index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":870}},{"source":"index.js","name":"select","original":{"line":37,"column":6},"generated":{"line":1,"column":876}},{"source":"index.js","name":"document","original":{"line":37,"column":15},"generated":{"line":1,"column":878}},{"source":"index.js","name":"getElementById","original":{"line":37,"column":24},"generated":{"line":1,"column":887}},{"source":"index.js","original":{"line":37,"column":39},"generated":{"line":1,"column":902}},{"source":"index.js","name":"select","original":{"line":38,"column":0},"generated":{"line":1,"column":916}},{"source":"index.js","name":"onchange","original":{"line":38,"column":7},"generated":{"line":1,"column":918}},{"source":"index.js","original":{"line":38,"column":18},"generated":{"line":1,"column":927}},{"source":"index.js","original":{"line":38,"column":18},"generated":{"line":1,"column":934}},{"source":"index.js","name":"modelPromise","original":{"line":39,"column":22},"generated":{"line":1,"column":945}},{"source":"index.js","name":"dispose","original":{"line":40,"column":8},"generated":{"line":1,"column":948}},{"source":"index.js","name":"modelPromise","original":{"line":41,"column":2},"generated":{"line":1,"column":958}},{"source":"index.js","name":"cocoSsd","original":{"line":41,"column":17},"generated":{"line":1,"column":960}},{"source":"index.js","name":"load","original":{"line":41,"column":25},"generated":{"line":1,"column":962}},{"source":"index.js","original":{"line":41,"column":30},"generated":{"line":1,"column":967}},{"source":"index.js","name":"base","original":{"line":42,"column":4},"generated":{"line":1,"column":968}},{"source":"index.js","name":"event","original":{"line":42,"column":10},"generated":{"line":1,"column":973}},{"source":"index.js","name":"srcElement","original":{"line":42,"column":16},"generated":{"line":1,"column":975}},{"source":"index.js","name":"options","original":{"line":42,"column":27},"generated":{"line":1,"column":986}},{"source":"index.js","name":"event","original":{"line":42,"column":35},"generated":{"line":1,"column":994}},{"source":"index.js","name":"srcElement","original":{"line":42,"column":41},"generated":{"line":1,"column":996}},{"source":"index.js","name":"selectedIndex","original":{"line":42,"column":52},"generated":{"line":1,"column":1007}},{"source":"index.js","name":"value","original":{"line":42,"column":67},"generated":{"line":1,"column":1022}},{"source":"index.js","original":{"line":46,"column":0},"generated":{"line":1,"column":1032}},{"source":"index.js","name":"image","original":{"line":46,"column":6},"generated":{"line":1,"column":1038}},{"source":"index.js","name":"document","original":{"line":46,"column":14},"generated":{"line":1,"column":1040}},{"source":"index.js","name":"getElementById","original":{"line":46,"column":23},"generated":{"line":1,"column":1049}},{"source":"index.js","original":{"line":46,"column":38},"generated":{"line":1,"column":1064}},{"source":"index.js","name":"image","original":{"line":47,"column":0},"generated":{"line":1,"column":1073}},{"source":"index.js","name":"src","original":{"line":47,"column":6},"generated":{"line":1,"column":1075}},{"source":"index.js","name":"imageURL","original":{"line":47,"column":12},"generated":{"line":1,"column":1079}},{"source":"index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":1081}},{"source":"index.js","original":{"line":49,"column":0},"generated":{"line":1,"column":1089}},{"source":"index.js","name":"runButton","original":{"line":49,"column":6},"generated":{"line":1,"column":1095}},{"source":"index.js","name":"document","original":{"line":49,"column":18},"generated":{"line":1,"column":1097}},{"source":"index.js","name":"getElementById","original":{"line":49,"column":27},"generated":{"line":1,"column":1106}},{"source":"index.js","original":{"line":49,"column":42},"generated":{"line":1,"column":1121}},{"source":"index.js","name":"runButton","original":{"line":50,"column":0},"generated":{"line":1,"column":1128}},{"source":"index.js","name":"onclick","original":{"line":50,"column":10},"generated":{"line":1,"column":1130}},{"source":"index.js","original":{"line":50,"column":20},"generated":{"line":1,"column":1138}},{"source":"index.js","name":"model","original":{"line":51,"column":8},"generated":{"line":1,"column":1149}},{"source":"index.js","name":"model","original":{"line":51,"column":8},"generated":{"line":1,"column":1155}},{"source":"index.js","name":"modelPromise","original":{"line":51,"column":22},"generated":{"line":1,"column":1163}},{"source":"index.js","name":"console","original":{"line":52,"column":2},"generated":{"line":1,"column":1165}},{"source":"index.js","name":"log","original":{"line":52,"column":10},"generated":{"line":1,"column":1173}},{"source":"index.js","original":{"line":52,"column":14},"generated":{"line":1,"column":1177}},{"source":"index.js","name":"console","original":{"line":53,"column":2},"generated":{"line":1,"column":1193}},{"source":"index.js","name":"time","original":{"line":53,"column":10},"generated":{"line":1,"column":1201}},{"source":"index.js","original":{"line":53,"column":15},"generated":{"line":1,"column":1206}},{"source":"index.js","name":"result","original":{"line":54,"column":8},"generated":{"line":1,"column":1218}},{"source":"index.js","name":"result","original":{"line":54,"column":8},"generated":{"line":1,"column":1224}},{"source":"index.js","name":"model","original":{"line":54,"column":23},"generated":{"line":1,"column":1232}},{"source":"index.js","name":"detect","original":{"line":54,"column":29},"generated":{"line":1,"column":1234}},{"source":"index.js","name":"image","original":{"line":54,"column":36},"generated":{"line":1,"column":1241}},{"source":"index.js","name":"console","original":{"line":55,"column":2},"generated":{"line":1,"column":1244}},{"source":"index.js","name":"timeEnd","original":{"line":55,"column":10},"generated":{"line":1,"column":1252}},{"source":"index.js","original":{"line":55,"column":18},"generated":{"line":1,"column":1260}},{"source":"index.js","name":"c","original":{"line":57,"column":8},"generated":{"line":1,"column":1272}},{"source":"index.js","name":"context","original":{"line":58,"column":8},"generated":{"line":1,"column":1278}},{"source":"index.js","name":"document","original":{"line":57,"column":12},"generated":{"line":1,"column":1280}},{"source":"index.js","name":"getElementById","original":{"line":57,"column":21},"generated":{"line":1,"column":1289}},{"source":"index.js","original":{"line":57,"column":36},"generated":{"line":1,"column":1304}},{"source":"index.js","name":"getContext","original":{"line":58,"column":20},"generated":{"line":1,"column":1314}},{"source":"index.js","original":{"line":58,"column":31},"generated":{"line":1,"column":1325}},{"source":"index.js","name":"context","original":{"line":59,"column":2},"generated":{"line":1,"column":1331}},{"source":"index.js","name":"drawImage","original":{"line":59,"column":10},"generated":{"line":1,"column":1333}},{"source":"index.js","name":"image","original":{"line":59,"column":20},"generated":{"line":1,"column":1343}},{"source":"index.js","original":{"line":59,"column":27},"generated":{"line":1,"column":1345}},{"source":"index.js","original":{"line":59,"column":30},"generated":{"line":1,"column":1347}},{"source":"index.js","name":"context","original":{"line":60,"column":2},"generated":{"line":1,"column":1350}},{"source":"index.js","name":"font","original":{"line":60,"column":10},"generated":{"line":1,"column":1352}},{"source":"index.js","original":{"line":60,"column":17},"generated":{"line":1,"column":1357}},{"source":"index.js","name":"console","original":{"line":62,"column":2},"generated":{"line":1,"column":1370}},{"source":"index.js","name":"log","original":{"line":62,"column":10},"generated":{"line":1,"column":1378}},{"source":"index.js","original":{"line":62,"column":14},"generated":{"line":1,"column":1382}},{"source":"index.js","name":"result","original":{"line":62,"column":40},"generated":{"line":1,"column":1407}},{"source":"index.js","name":"length","original":{"line":62,"column":47},"generated":{"line":1,"column":1409}},{"source":"index.js","original":{"line":63,"column":7},"generated":{"line":1,"column":1417}},{"source":"index.js","original":{"line":63,"column":7},"generated":{"line":1,"column":1421}},{"source":"index.js","name":"i","original":{"line":63,"column":11},"generated":{"line":1,"column":1425}},{"source":"index.js","original":{"line":63,"column":15},"generated":{"line":1,"column":1427}},{"source":"index.js","name":"i","original":{"line":63,"column":18},"generated":{"line":1,"column":1429}},{"source":"index.js","name":"result","original":{"line":63,"column":22},"generated":{"line":1,"column":1431}},{"source":"index.js","name":"length","original":{"line":63,"column":29},"generated":{"line":1,"column":1433}},{"source":"index.js","name":"i","original":{"line":63,"column":37},"generated":{"line":1,"column":1440}},{"source":"index.js","name":"context","original":{"line":64,"column":4},"generated":{"line":1,"column":1444}},{"source":"index.js","name":"beginPath","original":{"line":64,"column":12},"generated":{"line":1,"column":1446}},{"source":"index.js","name":"context","original":{"line":65,"column":4},"generated":{"line":1,"column":1458}},{"source":"index.js","name":"rect","original":{"line":65,"column":12},"generated":{"line":1,"column":1460}},{"source":"index.js","name":"result","original":{"line":65,"column":20},"generated":{"line":1,"column":1468}},{"source":"index.js","name":"i","original":{"line":65,"column":27},"generated":{"line":1,"column":1470}},{"source":"index.js","name":"bbox","original":{"line":65,"column":30},"generated":{"line":1,"column":1473}},{"source":"index.js","name":"context","original":{"line":66,"column":4},"generated":{"line":1,"column":1479}},{"source":"index.js","name":"lineWidth","original":{"line":66,"column":12},"generated":{"line":1,"column":1481}},{"source":"index.js","original":{"line":66,"column":24},"generated":{"line":1,"column":1491}},{"source":"index.js","name":"context","original":{"line":67,"column":4},"generated":{"line":1,"column":1493}},{"source":"index.js","name":"strokeStyle","original":{"line":67,"column":12},"generated":{"line":1,"column":1495}},{"source":"index.js","original":{"line":67,"column":26},"generated":{"line":1,"column":1507}},{"source":"index.js","name":"context","original":{"line":68,"column":4},"generated":{"line":1,"column":1515}},{"source":"index.js","name":"fillStyle","original":{"line":68,"column":12},"generated":{"line":1,"column":1517}},{"source":"index.js","original":{"line":68,"column":24},"generated":{"line":1,"column":1527}},{"source":"index.js","name":"context","original":{"line":69,"column":4},"generated":{"line":1,"column":1535}},{"source":"index.js","name":"stroke","original":{"line":69,"column":12},"generated":{"line":1,"column":1537}},{"source":"index.js","name":"context","original":{"line":70,"column":4},"generated":{"line":1,"column":1546}},{"source":"index.js","name":"fillText","original":{"line":70,"column":12},"generated":{"line":1,"column":1548}},{"source":"index.js","name":"result","original":{"line":71,"column":6},"generated":{"line":1,"column":1557}},{"source":"index.js","name":"i","original":{"line":71,"column":13},"generated":{"line":1,"column":1559}},{"source":"index.js","name":"score","original":{"line":71,"column":16},"generated":{"line":1,"column":1562}},{"source":"index.js","name":"toFixed","original":{"line":71,"column":22},"generated":{"line":1,"column":1568}},{"source":"index.js","original":{"line":71,"column":30},"generated":{"line":1,"column":1576}},{"source":"index.js","original":{"line":71,"column":35},"generated":{"line":1,"column":1579}},{"source":"index.js","name":"result","original":{"line":71,"column":41},"generated":{"line":1,"column":1583}},{"source":"index.js","name":"i","original":{"line":71,"column":48},"generated":{"line":1,"column":1585}},{"source":"index.js","name":"class","original":{"line":71,"column":51},"generated":{"line":1,"column":1588}},{"source":"index.js","name":"result","original":{"line":72,"column":6},"generated":{"line":1,"column":1594}},{"source":"index.js","name":"i","original":{"line":72,"column":13},"generated":{"line":1,"column":1596}},{"source":"index.js","name":"bbox","original":{"line":72,"column":16},"generated":{"line":1,"column":1599}},{"source":"index.js","original":{"line":72,"column":21},"generated":{"line":1,"column":1604}},{"source":"index.js","name":"result","original":{"line":73,"column":6},"generated":{"line":1,"column":1607}},{"source":"index.js","name":"i","original":{"line":73,"column":13},"generated":{"line":1,"column":1609}},{"source":"index.js","name":"bbox","original":{"line":73,"column":16},"generated":{"line":1,"column":1612}},{"source":"index.js","original":{"line":73,"column":21},"generated":{"line":1,"column":1617}},{"source":"index.js","original":{"line":73,"column":26},"generated":{"line":1,"column":1620}},{"source":"index.js","name":"result","original":{"line":73,"column":31},"generated":{"line":1,"column":1623}},{"source":"index.js","name":"i","original":{"line":73,"column":38},"generated":{"line":1,"column":1625}},{"source":"index.js","name":"bbox","original":{"line":73,"column":41},"generated":{"line":1,"column":1628}},{"source":"index.js","original":{"line":73,"column":46},"generated":{"line":1,"column":1633}},{"source":"index.js","original":{"line":73,"column":51},"generated":{"line":1,"column":1636}},{"source":"index.js","original":{"line":73,"column":55},"generated":{"line":1,"column":1638}}],"sources":{"index.js":"/* eslint-disable no-unused-vars */\n/* eslint-disable quotes */\n/* eslint-disable comma-dangle */\n/* eslint-disable arrow-parens */\n/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport * as cocoSsd from \"@tensorflow-models/coco-ssd\";\n\nimport imageURL from \"./image1.jpg\";\nimport image2URL from \"./image2.jpg\";\n\nlet modelPromise;\nlet baseModel = \"lite_mobilenet_v2\";\n\nwindow.onload = () => (modelPromise = cocoSsd.load());\n\nconst button = document.getElementById(\"toggle\");\nbutton.onclick = () => {\n  image.src = image.src.endsWith(imageURL) ? image2URL : imageURL;\n};\n\nconst select = document.getElementById(\"base_model\");\nselect.onchange = async event => {\n  const model = await modelPromise;\n  model.dispose();\n  modelPromise = cocoSsd.load({\n    base: event.srcElement.options[event.srcElement.selectedIndex].value\n  });\n};\n\nconst image = document.getElementById(\"image\");\nimage.src = imageURL;\n\nconst runButton = document.getElementById(\"run\");\nrunButton.onclick = async () => {\n  const model = await modelPromise;\n  console.log(\"model loaded\");\n  console.time(\"predict1\");\n  const result = await model.detect(image);\n  console.timeEnd(\"predict1\");\n\n  const c = document.getElementById(\"canvas\");\n  const context = c.getContext(\"2d\");\n  context.drawImage(image, 0, 0);\n  context.font = \"10px Arial\";\n\n  console.log(\"number of detections: \", result.length);\n  for (let i = 0; i < result.length; i++) {\n    context.beginPath();\n    context.rect(...result[i].bbox);\n    context.lineWidth = 1;\n    context.strokeStyle = \"green\";\n    context.fillStyle = \"green\";\n    context.stroke();\n    context.fillText(\n      result[i].score.toFixed(3) + \" \" + result[i].class,\n      result[i].bbox[0],\n      result[i].bbox[1] > 10 ? result[i].bbox[1] - 5 : 10\n    );\n  }\n};\n"},"lineCount":null}},"error":null,"hash":"e030fdffb0eaedb4a5770d8f68a3668a","cacheData":{"env":{}}}